!function(e){function t(t){for(var r,o,a=t[0],s=t[1],c=0,i=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&i.push(n[o][0]),n[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);i.length;)i.shift()()}var r={},n={0:0};var o={};var a={3:function(){return{"./webgl_bg.js":{__wbg_log_9aa6786f4afc2ed4:function(e,t){return r[1].exports.ib(e,t)},__wbindgen_object_drop_ref:function(e){return r[1].exports.qc(e)},__wbindgen_cb_drop:function(e){return r[1].exports.fc(e)},__wbg_log_cc6b9ddc6ca5449d:function(e){return r[1].exports.jb(e)},__wbg_activeTexture_204ea8d634c31c37:function(e,t){return r[1].exports.b(e,t)},__wbg_bindTexture_12e5a877c40c8dbe:function(e,t,n){return r[1].exports.f(e,t,n)},__wbg_texParameteri_54ba66c4cdb15658:function(e,t,n,o){return r[1].exports.Mb(e,t,n,o)},__wbg_texImage2D_62a02db800493a7d:function(e,t,n,o,a,s,c){return r[1].exports.Kb(e,t,n,o,a,s,c)},__wbg_generateMipmap_019aa9c6c94315d4:function(e,t){return r[1].exports.L(e,t)},__wbg_width_f19cefd2befc2573:function(e){return r[1].exports.cc(e)},__wbg_height_ef9e2e94b747d464:function(e){return r[1].exports.Y(e)},__wbg_bufferData_eea08d8f8e68a34b:function(e,t,n,o){return r[1].exports.i(e,t,n,o)},__wbindgen_memory:function(){return r[1].exports.nc()},__wbg_buffer_985803c87989344b:function(e){return r[1].exports.k(e)},__wbg_new_75cd19a33bebb54e:function(e){return r[1].exports.nb(e)},__wbg_subarray_8ef12d7b4db8f774:function(e,t,n){return r[1].exports.Ib(e,t,n)},__wbg_bufferSubData_c9c861cd3da7ad53:function(e,t,n,o){return r[1].exports.j(e,t,n,o)},__wbg_new_59cb74e423758ede:function(){return r[1].exports.mb()},__wbg_stack_558ba5917b466edd:function(e,t){return r[1].exports.Hb(e,t)},__wbg_error_4bb6c2a97407129a:function(e,t){return r[1].exports.I(e,t)},__wbg_self_944d201f31e01c91:function(){return r[1].exports.zb()},__wbg_window_993fd51731b86960:function(){return r[1].exports.dc()},__wbg_globalThis_8379563d70fab135:function(){return r[1].exports.W()},__wbg_global_073eb4249a3a8c12:function(){return r[1].exports.X()},__wbindgen_is_undefined:function(e){return r[1].exports.lc(e)},__wbg_newnoargs_bfddd41728ab0b9c:function(e,t){return r[1].exports.pb(e,t)},__wbg_call_20c04382b27a4486:function(e,t){return r[1].exports.l(e,t)},__wbg_call_49bac88c9eff93af:function(e,t,n){return r[1].exports.m(e,t,n)},__wbg_newwithbyteoffsetandlength_c8bb08455573d4e5:function(e,t,n){return r[1].exports.sb(e,t,n)},__wbg_newwithbyteoffsetandlength_09cdf5567e13277f:function(e,t,n){return r[1].exports.qb(e,t,n)},__wbindgen_debug_string:function(e,t){return r[1].exports.kc(e,t)},__wbindgen_throw:function(e,t){return r[1].exports.uc(e,t)},__wbindgen_rethrow:function(e){return r[1].exports.rc(e)},__wbg_then_b114127b40814c36:function(e,t,n){return r[1].exports.Rb(e,t,n)},__wbg_resolve_430b2f40a51592cc:function(e){return r[1].exports.xb(e)},__wbg_then_a9485ea9ef567f90:function(e,t){return r[1].exports.Qb(e,t)},__wbg_texSubImage3D_8708a74f8c77ede5:function(e,t,n,o,a,s,c,i,_,u,d,f,g){return r[1].exports.Ob(e,t,n,o,a,s,c,i,_,u,d,f,g)},__wbg_new_f57d0c99c6a125c7:function(){return r[1].exports.ob()},__wbindgen_object_clone_ref:function(e){return r[1].exports.pc(e)},__wbg_instanceof_Window_d64060d13377409b:function(e){return r[1].exports.eb(e)},__wbg_disableVertexAttribArray_eb1aa4f500188a1e:function(e,t){return r[1].exports.B(e,t)},__wbg_deleteBuffer_6db608cc7f036a0c:function(e,t){return r[1].exports.y(e,t)},__wbindgen_string_new:function(e,t){return r[1].exports.tc(e,t)},__wbg_performance_d78dfb23cb3aa2b5:function(e){return r[1].exports.wb(e)},__wbg_now_1a2bf048df058d4a:function(e){return r[1].exports.tb(e)},__wbg_bindVertexArray_7d90c9f41b2fb687:function(e,t){return r[1].exports.g(e,t)},__wbg_drawElements_7335cb2a4913221f:function(e,t,n,o,a){return r[1].exports.F(e,t,n,o,a)},__wbg_createTexture_cd83ab2ca6eccf62:function(e){return r[1].exports.v(e)},__wbg_texImage3D_35e01b7d8306b1fe:function(e,t,n,o,a,s,c,i,_,u,d,f){return r[1].exports.Lb(e,t,n,o,a,s,c,i,_,u,d,f)},__wbg_texSubImage3D_5887a01bfc97bd1d:function(e,t,n,o,a,s,c,i,_,u,d,f){return r[1].exports.Nb(e,t,n,o,a,s,c,i,_,u,d,f)},__wbg_deleteTexture_fd005643a14cf412:function(e,t){return r[1].exports.z(e,t)},__wbg_useProgram_4d67f0ca9a0cedd7:function(e,t){return r[1].exports.Yb(e,t)},__wbg_uniform1f_958bb81bd8dfe24a:function(e,t,n){return r[1].exports.Sb(e,t,n)},__wbg_uniform1i_7b6f10aca4be99be:function(e,t,n){return r[1].exports.Ub(e,t,n)},__wbg_uniformMatrix4fv_277e0f98d8bb1213:function(e,t,n,o,a){return r[1].exports.Xb(e,t,n,o,a)},__wbg_uniform4f_0840e35823a05fc5:function(e,t,n,o,a,s){return r[1].exports.Wb(e,t,n,o,a,s)},__wbg_uniform2f_178d1409e4964f1a:function(e,t,n,o){return r[1].exports.Vb(e,t,n,o)},__wbg_uniform1fv_7495ffaf0ce41007:function(e,t,n,o){return r[1].exports.Tb(e,t,n,o)},__wbg_createShader_6ab8c13a1dc7f9af:function(e,t){return r[1].exports.u(e,t)},__wbg_shaderSource_9a58ed9dc45e91a8:function(e,t,n,o){return r[1].exports.Gb(e,t,n,o)},__wbg_compileShader_7eeb88c0552f7774:function(e,t){return r[1].exports.q(e,t)},__wbg_getShaderParameter_bc8dbdd7c4c7aae0:function(e,t,n){return r[1].exports.T(e,t,n)},__wbindgen_boolean_get:function(e){return r[1].exports.ec(e)},__wbg_getShaderInfoLog_60ea2dd3a2cebedd:function(e,t,n){return r[1].exports.S(e,t,n)},__wbg_isArray_c8679c6f3de4459c:function(e){return r[1].exports.fb(e)},__wbg_length_0f4f1887875ad8eb:function(e){return r[1].exports.gb(e)},__wbg_get_10a73aedbc5fe014:function(e,t){return r[1].exports.V(e,t)},__wbindgen_json_serialize:function(e,t){return r[1].exports.mc(e,t)},__wbg_fetch_04c26a3075c6aabb:function(e,t,n){return r[1].exports.J(e,t,n)},__wbg_instanceof_Response_acb554d7c391aef7:function(e){return r[1].exports.cb(e)},__wbg_text_83594a5e8d9e514a:function(e){return r[1].exports.Pb(e)},__wbindgen_string_get:function(e,t){return r[1].exports.sc(e,t)},__wbg_deleteVertexArray_ec3a02f11811521c:function(e,t){return r[1].exports.A(e,t)},__wbg_createVertexArray_a2d1c0aa16446e9f:function(e){return r[1].exports.w(e)},__wbg_createBuffer_71b6bf75daaee3f3:function(e){return r[1].exports.r(e)},__wbg_bindBuffer_26c28ec8f85ec541:function(e,t,n){return r[1].exports.d(e,t,n)},__wbg_vertexAttribPointer_55ca74591ecac57f:function(e,t,n,o,a,s,c){return r[1].exports.ac(e,t,n,o,a,s,c)},__wbg_enableVertexAttribArray_c474216a5f43e5b9:function(e,t){return r[1].exports.G(e,t)},__wbg_setwidth_568dfd10a534fefd:function(e,t){return r[1].exports.Fb(e,t)},__wbg_setheight_f95890a4f65f1ed9:function(e,t){return r[1].exports.Bb(e,t)},__wbg_viewport_e64c3423662327f3:function(e,t,n,o,a){return r[1].exports.bc(e,t,n,o,a)},__wbg_scissor_4e8c938a39a86a0f:function(e,t,n,o,a){return r[1].exports.yb(e,t,n,o,a)},__wbg_setonload_2f23b01acd6195cc:function(e,t){return r[1].exports.Db(e,t)},__wbg_setonerror_075cbc7c5ca03e6d:function(e,t){return r[1].exports.Cb(e,t)},__wbg_setsrc_8344c3fd87c4000e:function(e,t,n){return r[1].exports.Eb(e,t,n)},__wbg_onload_2253b15bd8bd494e:function(e){return r[1].exports.ub(e)},__wbg_new_261626435fed913c:function(e,t){return r[1].exports.lb(e,t)},__wbg_document_bcf9d67bc56e8c6d:function(e){return r[1].exports.D(e)},__wbg_getElementById_0e0dd6444cdc0602:function(e,t,n){return r[1].exports.O(e,t,n)},__wbg_instanceof_HtmlCanvasElement_308a7fa689ff20ef:function(e){return r[1].exports.bb(e)},__wbg_parse_89703a6dc51dc2d6:function(e,t){return r[1].exports.vb(e,t)},__wbg_getContext_792bed357d6cf017:function(e,t,n,o){return r[1].exports.N(e,t,n,o)},__wbg_instanceof_WebGl2RenderingContext_415610ca81c5f175:function(e){return r[1].exports.db(e)},__wbg_createProgram_b70aa5096ed3fbb8:function(e){return r[1].exports.t(e)},__wbg_attachShader_946bd63f2ee44cd8:function(e,t,n){return r[1].exports.c(e,t,n)},__wbg_linkProgram_26847c1f94cc1bf1:function(e,t){return r[1].exports.hb(e,t)},__wbg_getProgramParameter_7132ea677df419b2:function(e,t,n){return r[1].exports.R(e,t,n)},__wbg_getProgramInfoLog_86d32dee1b03579f:function(e,t,n){return r[1].exports.Q(e,t,n)},__wbindgen_number_get:function(e,t){return r[1].exports.oc(e,t)},__wbg_getActiveUniform_54145aded324a184:function(e,t,n){return r[1].exports.M(e,t,n)},__wbg_name_4093f914842f9eab:function(e,t){return r[1].exports.kb(e,t)},__wbg_getUniformLocation_474f47ef847e41db:function(e,t,n,o){return r[1].exports.U(e,t,n,o)},__wbg_blendFuncSeparate_e83748a0c03e66bf:function(e,t,n,o,a){return r[1].exports.h(e,t,n,o,a)},__wbg_enable_f4d7d1daec745dbe:function(e,t){return r[1].exports.H(e,t)},__wbg_cullFace_74515ab50b7de986:function(e,t){return r[1].exports.x(e,t)},__wbg_innerWidth_ebad4fcd50c2c6f4:function(e){return r[1].exports.ab(e)},__wbg_innerHeight_3ebcf171c94ce990:function(e){return r[1].exports.Z(e)},__wbg_canvas_29132194c9d0424f:function(e){return r[1].exports.n(e)},__wbg_setcrossOrigin_293a4c71eb1e8e6a:function(e,t,n){return r[1].exports.Ab(e,t,n)},__wbindgen_cb_forget:function(e){return r[1].exports.gc(e)},__wbg_getExtension_bd398002811f2c22:function(e,t,n){return r[1].exports.P(e,t,n)},__wbg_texImage2D_2cf284108917b430:function(e,t,n,o,a,s,c,i,_,u,d){return r[1].exports.Jb(e,t,n,o,a,s,c,i,_,u,d)},__wbg_createFramebuffer_48438188c61a1adf:function(e){return r[1].exports.s(e)},__wbg_bindFramebuffer_69bb702f3b3f6eec:function(e,t,n){return r[1].exports.e(e,t,n)},__wbg_framebufferTexture2D_d3769abe73ac6524:function(e,t,n,o,a,s){return r[1].exports.K(e,t,n,o,a,s)},__wbg_newwithbyteoffsetandlength_3c83a6445776097f:function(e,t,n){return r[1].exports.rb(e,t,n)},__wbg_vertexAttribDivisor_9b7f677948cc36a2:function(e,t,n){return r[1].exports.Zb(e,t,n)},__wbg_clearColor_23774d5cae108e24:function(e,t,n,o,a){return r[1].exports.o(e,t,n,o,a)},__wbg_clear_3aff0545046e21d7:function(e,t){return r[1].exports.p(e,t)},__wbg_drawElementsInstanced_86efc7d5b8ca2038:function(e,t,n,o,a,s){return r[1].exports.E(e,t,n,o,a,s)},__wbg_disable_5fbda5d735331581:function(e,t){return r[1].exports.C(e,t)},__wbindgen_closure_wrapper137:function(e,t,n){return r[1].exports.ic(e,t,n)},__wbindgen_closure_wrapper139:function(e,t,n){return r[1].exports.jc(e,t,n)},__wbindgen_closure_wrapper1187:function(e,t,n){return r[1].exports.hc(e,t,n)}}}}};function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise(function(t,o){r=n[e]=[t,o]});t.push(r[2]=c);var i,_=document.createElement("script");_.charset="utf-8",_.timeout=120,s.nc&&_.setAttribute("nonce",s.nc),_.src=function(e){return s.p+""+e+".index.js"}(e);var u=new Error;i=function(t){_.onerror=_.onload=null,clearTimeout(d);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,r[1](u)}n[e]=void 0}};var d=setTimeout(function(){i({type:"timeout",target:_})},12e4);_.onerror=_.onload=i,document.head.appendChild(_)}return({2:[3]}[e]||[]).forEach(function(e){var r=o[e];if(r)t.push(r);else{var n,c=a[e](),i=fetch(s.p+""+{3:"5ed32c643b3e659efbed"}[e]+".module.wasm");if(c instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)n=Promise.all([WebAssembly.compileStreaming(i),c]).then(function(e){return WebAssembly.instantiate(e[0],e[1])});else if("function"==typeof WebAssembly.instantiateStreaming)n=WebAssembly.instantiateStreaming(i,c);else{n=i.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,c)})}t.push(o[e]=n.then(function(t){return s.w[e]=(t.instance||t).exports}))}}),Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e},s.w={};var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var _=0;_<c.length;_++)t(c[_]);var u=i;s(s.s=0)}([function(e,t,r){"use strict";r.r(t);let n=[{name:"catalog_aitoff",path:{vert:"src/shaders/catalogs/aitoff.vert",frag:"src/shaders/catalogs/aitoff.frag"}},{name:"catalog_mercator",path:{vert:"src/shaders/catalogs/mercator.vert",frag:"src/shaders/catalogs/mercator.frag"}},{name:"catalog_mollweide",path:{vert:"src/shaders/catalogs/mollweide.vert",frag:"src/shaders/catalogs/mollweide.frag"}},{name:"catalog_ortho",path:{vert:"src/shaders/catalogs/ortho.vert",frag:"src/shaders/catalogs/ortho.frag"}},{name:"black_white_linear",path:{vert:"src/shaders/colormaps/blackwhite.vert",frag:"src/shaders/colormaps/blackwhite.frag"}},{name:"BluePastelRed",path:{vert:"src/shaders/colormaps/BluePastelRed.vert",frag:"src/shaders/colormaps/BluePastelRed.frag"}},{name:"IDL_CB_BrBG",path:{vert:"src/shaders/colormaps/IDL_CB_BrBG.vert",frag:"src/shaders/colormaps/IDL_CB_BrBG.frag"}},{name:"IDL_CB_GnBu",path:{vert:"src/shaders/colormaps/IDL_CB_GnBu.vert",frag:"src/shaders/colormaps/IDL_CB_GnBu.frag"}},{name:"IDL_CB_YIGnBu",path:{vert:"src/shaders/colormaps/IDL_CB_YIGnBu.vert",frag:"src/shaders/colormaps/IDL_CB_YIGnBu.frag"}},{name:"red_temperature",path:{vert:"src/shaders/colormaps/red.vert",frag:"src/shaders/colormaps/red.frag"}},{name:"grid_aitoff",path:{vert:"src/shaders/grid/aitoff.vert",frag:"src/shaders/grid/aitoff.frag"}},{name:"grid_ortho",path:{vert:"src/shaders/grid/ortho.vert",frag:"src/shaders/grid/ortho.frag"}},{name:"grid_mollweide",path:{vert:"src/shaders/grid/mollweide.vert",frag:"src/shaders/grid/mollweide.frag"}},{name:"grid_mercator",path:{vert:"src/shaders/grid/mercator.vert",frag:"src/shaders/grid/mercator.frag"}},{name:"raytracer",path:{vert:"src/shaders/hips/raytracer.vert",frag:"src/shaders/hips/raytracer.frag"}},{name:"rasterizer_aitoff",path:{vert:"src/shaders/hips/rasterizer/aitoff.vert",frag:"src/shaders/hips/rasterizer/aitoff.frag"}},{name:"rasterizer_mercator",path:{vert:"src/shaders/hips/rasterizer/mercator.vert",frag:"src/shaders/hips/rasterizer/mercator.frag"}},{name:"rasterizer_mollweide",path:{vert:"src/shaders/hips/rasterizer/mollweide.vert",frag:"src/shaders/hips/rasterizer/mollweide.frag"}},{name:"rasterizer_ortho",path:{vert:"src/shaders/hips/rasterizer/ortho.vert",frag:"src/shaders/hips/rasterizer/ortho.frag"}},{name:"text",path:{vert:"src/shaders/misc/text.vert",frag:"src/shaders/misc/text.frag"}}];class o{constructor(e){this.aladin=e,this.ongoingTouches=new Array,this.canvas=document.getElementById("canvas"),this.createEvents(),this.then=Date.now()}ongoingTouchIndexById(e){for(let t=0;t<this.ongoingTouches.length;t++){if(this.ongoingTouches[t].identifier==e)return t}return-1}removeTouchFromOnGoingTouches(e){for(let t=0;t<this.ongoingTouches.length;t++)if(this.ongoingTouches[t].identifier==e.identifier)return this.ongoingTouches.splice(t,1),t;return-1}updateTouch(e){let t=this.ongoingTouchIndexById(e.identifier);this.ongoingTouches.splice(t,1,e)}touchEventsOccuring(){return this.ongoingTouches.length>0}update(e){return this.aladin.update(e)}render(){this.aladin.render()}createEvents(){let e={NOTHING:0,MOVING:1,ZOOMING:2,properties:{2:{unZoom:!1,startFov:void 0,startDist:void 0}}},t=e.NOTHING;this.canvas.addEventListener("touchstart",r=>{r.preventDefault();let n=r.changedTouches[0];this.ongoingTouches.push(n);let o=this.ongoingTouches.length;1==o?(t=e.MOVING,this.aladin.press_left_mouse_button(n.pageX,n.pageY)):2==o?(this.aladin.release_left_mouse_button(n.pageX,n.pageY),console.log("stop moving"),t=e.ZOOMING,e.properties[t].startDist=Math.hypot(this.ongoingTouches[0].pageX-this.ongoingTouches[1].pageX,this.ongoingTouches[0].pageY-this.ongoingTouches[1].pageY),e.properties[t].startFov=this.aladin.get_fov()):t=e.NOTHING},!1);let r=r=>{r.preventDefault();let n=r.changedTouches[0];this.removeTouchFromOnGoingTouches(n);t===e.MOVING&&(this.aladin.release_left_mouse_button(n.pageX,n.pageY),console.log("stop moving")),t!==e.NOTHING&&(t=e.NOTHING)};this.canvas.addEventListener("touchend",r,!1),this.canvas.addEventListener("touchcancel",r,!1),this.canvas.addEventListener("touchleave",r,!1),this.canvas.addEventListener("touchmove",r=>{r.preventDefault();let n=r.changedTouches[0];if(this.updateTouch(n),t===e.MOVING){console.log("move!!");let e=this.ongoingTouches[0];this.aladin.move_mouse(e.pageX,e.pageY)}else if(t===e.ZOOMING){console.log("zoom!!");let r=Math.hypot(this.ongoingTouches[0].pageX-this.ongoingTouches[1].pageX,this.ongoingTouches[0].pageY-this.ongoingTouches[1].pageY),n=e.properties[t].startFov,o=e.properties[t].startDist;this.aladin.pinch_zoom(n*o/r)}},!1),this.canvas.addEventListener("mousedown",e=>{this.aladin.press_left_mouse_button(e.clientX,e.clientY)}),this.canvas.addEventListener("mouseup",e=>{this.aladin.release_left_mouse_button(e.clientX,e.clientY)}),this.canvas.addEventListener("mousemove",e=>{this.aladin.move_mouse(e.clientX,e.clientY)}),this.canvas.addEventListener("dblclick",e=>{console.log("mouse click double"),this.aladin.double_mouse_button_pressed(e.clientX,e.clientY)}),this.canvas.addEventListener("wheel",e=>{let t=e.deltaY>0?1:-1;this.aladin.wheel_mouse(e.clientX,e.clientY,t)},!1),window.addEventListener("resize",()=>{let e=window.innerWidth,t=window.innerHeight;this.aladin.resize(e,t)})}}function a(e,t){let r=e.substring(4),n="http://tapvizier.u-strasbg.fr/TAPVizieR/tap/sync?phase=RUN&lang=adql&format=json&request=doQuery&query=SELECT%20TOP%201%20table_name%2C%20column_name%2C%20ucd%20FROM%20TAP_SCHEMA.columns%20WHERE%20table_name%3D%27"+encodeURIComponent(r)+"%27%20AND%20ucd%20LIKE%20%27"+encodeURIComponent(t)+"%25%27";var o={method:"GET",headers:new Headers,mode:"cors",cache:"default"};return fetch(n,o).then(e=>e.json()).then(r=>(console.log(e,t,": here are the data",r.data),r.data[0][1]))}function s(e,t,r="*"){let n=[];t.forEach(t=>{console.log(t),n.push('"'+e+'"."'+encodeURIComponent(t)+'"')});let o="SELECT "+n.join(", ")+' FROM "'+e+'"';console.log(o);let a="http://tapvizier.u-strasbg.fr/TAPVizieR/tap/sync?phase=RUN&lang=adql&format=json&request=doQuery&query="+encodeURIComponent(o);var s={method:"GET",headers:new Headers,mode:"cors",cache:"default"};return fetch(a,s).then(e=>e.json()).then(e=>{return e.data})}window.addEventListener("load",async()=>{const e=await Promise.all([r.e(1),r.e(2)]).then(r.bind(null,7));let t=await async function(e){return await Promise.all(n.map(async t=>{let r=await e.read(t.path.vert),n=await e.read(t.path.frag);return{name:t.name,vert_src:r,frag_src:n}}))}(e);console.log(t);let c=new e.WebClient(t);!async function(e){var t={method:"GET",headers:new Headers,mode:"cors",cache:"default"};let[r,n]=await fetch("https://alasky.u-strasbg.fr/MocServer/query?hips_service_url*=*alasky*&&dataproduct_type=image&&hips_tile_format=*png*,*jpeg*&get=record&fmt=json",t).then(e=>e.json()).then(e=>{let t=[],r=new Map;for(let n=0;n<e.length;n++){let o=e[n].ID;r[o]={hips_service_url:e[n].hips_service_url,max_depth:e[n].hips_order,tile_width:e[n].hips_tile_width,hips_tile_format:e[n].hips_tile_format},t.push(o)}return[t,r]});new autoComplete({selector:"#hips-selector",minChars:2,source:function(e,t){e=e.toLowerCase();var n=r,o=[];for(let t=0;t<n.length;t++)n[t].toLowerCase().indexOf(e)>=0&&o.push(n[t]);t(o)},renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var r=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(r,"<b>$1</b>")+"</div>"},onSelect:function(t,r,o){let a=r,{hips_service_url:s,max_depth:c,hips_tile_format:i,tile_width:_}=n[a];e.change_hips(s,_,c,i)}})}(c),async function(e){var t={method:"GET",headers:new Headers,mode:"cors",cache:"default"};let[r,n]=await fetch("https://alasky.u-strasbg.fr/MocServer/query?expr=dataproduct_type%3Dcatalog%26%26nb_rows<%3D500000%26%26nb_rows>%3D50000%26%26data_ucd%3Dpos.parallax*%26%26data_ucd%3Dphot.mag*&get=record&fmt=json",t).then(e=>e.json()).then(e=>{let t=[],r=new Map;for(var n=0;n<e.length;n++){var o=e[n].ID;r[o]={obs_id:e[n].obs_id},t.push(o)}return[t,r]});new autoComplete({selector:"#catalog-selector",minChars:2,source:function(e,t){e=e.toLowerCase();var n=r,o=[];for(let t=0;t<n.length;t++)n[t].toLowerCase().indexOf(e)>=0&&o.push(n[t]);t(o)},renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var r=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(r,"<b>$1</b>")+"</div>"},onSelect:async function(t,r,n){let o=r,c=await a(o,"pos.parallax");console.log("parallax column name: ",c);let i=await a(o,"phot.mag");console.log("phot mag column name: ",i);let _=await a(o,"pos.eq.ra"),u=await a(o,"pos.eq.dec");s(o.substring(4),[_,u,i,c]).then(t=>{console.log("sources: ",t),e.add_catalog("Test",t)})}}),s("J/A+A/566/A43/table2",["RAJ2000","DEJ2000","Bmag","Per"]).then(t=>setTimeout(()=>e.add_catalog("Test",t),1e4))}(c);let i=document.getElementById("proj-select"),_=document.getElementById("enable-grid"),u=document.getElementById("enable-inertia"),d=(document.getElementById("fps-counter"),document.getElementById("grid-color")),f=document.getElementById("grid-alpha"),g=document.getElementById("catalog-alpha"),l=document.getElementById("kernel-strength"),b=document.getElementById("colormap-select"),p=document.getElementById("ra"),h=document.getElementById("dec"),w=document.getElementById("ra_value"),x=document.getElementById("dec_value");document.getElementById("canvas").focus();i.addEventListener("change",()=>{let e=i.value;c.set_projection(e),console.log("change projection to: ",e)},!1),_.addEventListener("change",()=>{_.checked?c.enable_equatorial_grid():c.disable_equatorial_grid()},!1),u.addEventListener("change",()=>{u.checked?c.enable_inertia():c.disable_inertia()},!1),p.addEventListener("change",()=>{console.log("Change!!");let e=p.value,t=h.value;c.set_position(e,t)},!1),h.addEventListener("change",()=>{let e=p.value,t=h.value;c.set_position(e,t)},!1);d.addEventListener("input",e=>{let t=function(e){if(m=e.match(/^#([0-9a-f]{6})$/i)[1],m)return{red:parseInt(m.substr(0,2),16)/255,green:parseInt(m.substr(2,2),16)/255,blue:parseInt(m.substr(4,2),16)/255}}(e.target.value);c.change_grid_color(t.red,t.green,t.blue)},!1),f.addEventListener("input",e=>{let t=e.target.value;c.change_grid_opacity(t)},!1),g.addEventListener("input",e=>{let t=e.target.value;c.set_heatmap_opacity("Test",t)},!1),l.addEventListener("input",e=>{let t=e.target.value;c.set_kernel_strength("Test",t)},!1),b.addEventListener("change",()=>{let e=b.value;c.set_colormap("Test",e)},!1),console.log("sdfsd");let v=new o(c);!function e(){window.requestAnimationFrame(e);let t=Date.now(),r=t-v.then;v.then=t;{let e=v.update(r);v.render(),w.innerText=e[0].toFixed(4),x.innerText=e[1].toFixed(4)}}()})}]);